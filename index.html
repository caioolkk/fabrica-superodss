<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Fábrica Super Odd</title>
  <!-- Favicon -->
  <link rel="icon" href="image/logo.png" type="image/png">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      transition: all 0.2s ease;
    }

    :root {
      --primary: #FFD966; /* Amarelo pastel suave */
      --primary-dark: #F1C232;
      --light-bg: #fafafa;
      --card-bg: white;
      --border: #e0e0e0;
      --shadow: 0 2px 8px rgba(0,0,0,0.05);
      --table-header: #212529;
      --green-text: #28a745;
      --hover-bg: #f8f9fa;
      --input-border: #d4edda;
      --input-focus: #28a745;
    }

    body {
      background-color: var(--light-bg);
      color: #333;
      line-height: 1.6;
      position: relative;
      font-size: 14px;
    }

    .navbar {
      display: flex;
      align-items: center;
      justify-content: space-between;
      background: white;
      padding: 12px 20px;
      border-bottom: 1px solid var(--primary);
      gap: 10px;
    }

    .logo {
      width: 40px;
      height: 40px;
      background: url('image/logo.png') no-repeat center;
      background-size: contain;
    }

    .nav-links {
      display: flex;
      gap: 20px;
      margin: 0 auto;
    }

    .nav-links a {
      text-decoration: none;
      color: #666;
      font-weight: 500;
      padding: 5px 10px;
      border-bottom: 2px solid transparent;
      position: relative;
    }

    .nav-links a.active {
      color: var(--primary-dark);
      border-bottom: 2px solid var(--primary);
    }

    .nav-links a:hover {
      color: var(--primary-dark);
    }

    .top-icons {
      display: flex;
      gap: 8px;
      align-items: center;
    }

    .top-icons button {
      background: var(--primary);
      color: #333;
      border: none;
      width: 32px;
      height: 32px;
      border-radius: 50%;
      font-size: 14px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: transform 0.2s;
    }

    .top-icons button:hover {
      transform: scale(1.1);
    }

    .btn-enter {
      background: var(--primary);
      color: #333;
      border: none;
      padding: 6px 16px;
      border-radius: 4px;
      font-weight: 600;
      cursor: pointer;
      font-size: 14px;
      transition: background 0.2s;
    }

    .btn-enter:hover {
      background: var(--primary-dark);
    }

    .container {
      max-width: 1000px;
      margin: 20px auto;
      padding: 0 15px;
    }

    .section {
      background: var(--card-bg);
      border-radius: 8px;
      box-shadow: var(--shadow);
      padding: 20px;
      margin-bottom: 20px;
      position: relative;
      overflow: hidden;
    }

    /* Marca d'água suave dentro do card */
    .section::before {
      content: "";
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-image: url('image/logo.png');
      background-size: 150px 150px;
      background-position: center;
      opacity: 0.05;
      z-index: -1;
      pointer-events: none;
    }

    h5 {
      font-weight: 700;
      color: #333;
      border-bottom: 2px solid var(--primary);
      padding-bottom: 6px;
      margin-bottom: 16px;
      font-size: 1.2rem;
    }

    .config-row {
      display: flex;
      flex-wrap: wrap;
      gap: 16px;
      margin-bottom: 16px;
    }

    .config-item {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .config-item label {
      min-width: 180px;
      font-weight: 500;
    }

    input[type="text"],
    input[type="number"],
    select {
      padding: 8px 12px;
      border: 1px solid var(--border);
      border-radius: 6px;
      font-size: 14px;
      background: white;
      transition: border 0.2s;
    }

    input[type="text"]:focus,
    input[type="number"]:focus,
    select:focus {
      border-color: var(--input-focus);
      outline: none;
    }

    .toggle-container {
      display: flex;
      flex-wrap: wrap;
      gap: 16px;
      margin-top: 10px;
    }

    .toggle {
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .toggle label:first-child {
      font-weight: 500;
      font-size: 0.95rem;
    }

    .switch {
      position: relative;
      display: inline-block;
      width: 44px;
      height: 22px;
    }

    .switch input {
      opacity: 0;
      width: 0;
      height: 0;
    }

    .slider {
      position: absolute;
      cursor: pointer;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-color: #ccc;
      transition: .4s;
      border-radius: 22px;
    }

    .slider:before {
      position: absolute;
      content: "";
      height: 16px;
      width: 16px;
      left: 3px;
      bottom: 3px;
      background-color: white;
      transition: .4s;
      border-radius: 50%;
    }

    input:checked + .slider {
      background-color: var(--primary);
    }

    input:checked + .slider:before {
      transform: translateX(22px);
    }

    .table-container {
      overflow-x: auto;
      margin-top: 15px;
      border-radius: 6px;
      background: var(--hover-bg);
    }

    table {
      width: 100%;
      border-collapse: collapse;
      font-size: 14px;
    }

    th {
      background: var(--table-header);
      color: white;
      padding: 10px;
      text-align: left;
      font-weight: 600;
      border: 1px solid #dee2e6;
    }

    td {
      padding: 10px;
      border: 1px solid #dee2e6;
      background: white;
    }

    .type-btn {
      padding: 4px 8px;
      border-radius: 4px;
      font-size: 12px;
      font-weight: 600;
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 5px;
      min-width: 50px;
      justify-content: center;
      transition: background 0.2s;
    }

    .type-btn.back {
      background: var(--back-bg);
      color: #0d47a1;
    }

    .type-btn.lay {
      background: var(--lay-bg);
      color: #c62828;
    }

    .type-btn:hover {
      opacity: 0.9;
    }

    .comissao-input,
    .aumento-input,
    .freebet-input,
    .cashback-input {
      width: 60px;
      text-align: center;
      font-size: 12px;
    }

    .odd-final {
      font-weight: bold;
      color: #333;
    }

    .info-icon {
      font-size: 10px;
      color: #666;
      cursor: help;
      margin-left: 2px;
    }

    .copy-btn {
      background: #e0e0e0;
      border: none;
      padding: 2px 6px;
      border-radius: 3px;
      font-size: 12px;
      cursor: pointer;
      transition: background 0.2s;
    }

    .copy-btn:hover {
      background: #d0d0d0;
    }

    .result-card {
      background: #f8f9fa;
      border: 1px solid #eee;
      border-radius: 10px;
      padding: 16px;
      margin-top: 16px;
      position: relative;
      overflow: hidden;
    }

    /* Marca d'água suave dentro do card de resultados */
    .result-card::before {
      content: "";
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-image: url('image/logo.png');
      background-size: 100px 100px;
      background-position: center;
      opacity: 0.03;
      z-index: -1;
      pointer-events: none;
    }

    .result-row {
      display: flex;
      justify-content: space-between;
      padding: 6px 0;
      border-bottom: 1px solid #eee;
    }

    .result-row:last-child {
      border-bottom: none;
    }

    .result-label {
      font-weight: 600;
      color: #555;
    }

    .result-value {
      font-weight: 700;
      color: var(--green-text);
    }

    .btn-action {
      display: flex;
      align-items: center;
      gap: 10px;
      background: #f1f1f1;
      color: #333;
      border: none;
      padding: 10px 16px;
      border-radius: 6px;
      margin-top: 12px;
      cursor: pointer;
      font-weight: 600;
      width: 100%;
      justify-content: center;
      font-size: 15px;
      transition: background 0.2s;
    }

    .btn-action:hover {
      background: #e0e0e0;
    }

    .btn-action i {
      font-size: 16px;
    }

    .remove-row {
      color: #dc3545;
      cursor: pointer;
      font-weight: bold;
    }

    /* Mobile */
    @media (max-width: 768px) {
      .navbar {
        flex-direction: column;
        align-items: stretch;
        gap: 10px;
        padding: 10px;
      }

      .nav-links {
        justify-content: center;
        gap: 15px;
        margin: 0;
      }

      .top-icons {
        justify-content: center;
        gap: 5px;
      }

      .config-row,
      .toggle-container {
        flex-direction: column;
        gap: 12px;
      }

      .config-item {
        width: 100%;
      }

      .table-container {
        font-size: 12px;
        overflow-x: auto;
        -webkit-overflow-scrolling: touch;
      }

      th, td {
        padding: 6px;
        white-space: nowrap;
      }

      .section {
        padding: 15px;
      }

      .container {
        padding: 0 10px;
      }
    }
  </style>
</head>
<body>
  <!-- Navbar -->
  <div class="navbar">
    <div class="logo"></div>
    <div class="nav-links">
      <a href="#" class="active">Calculadora</a>
      <a href="#">Planilha</a>
      <a href="#">Área de Membros</a>
    </div>
    <div class="top-icons">
      <button title="Home"><i class="fas fa-home"></i></button>
      <button title="Instagram"><i class="fab fa-instagram"></i></button>
      <button title="Telegram"><i class="fab fa-telegram"></i></button>
      <button title="Notificações"><i class="fas fa-bell"></i></button>
      <button class="btn-enter">Entrar</button>
    </div>
  </div>

  <div class="container">
    <h5>Calculadora</h5>

    <!-- Configurações -->
    <div class="section">
      <h5>Configurações</h5>
      <div class="config-row">
        <div class="config-item">
          <label>Procedimento:</label>
          <select id="procedimento">
            <option>Selecione um procedimento</option>
            <option>Arbitragem Simples</option>
            <option>Freebet</option>
            <option>Cashback</option>
          </select>
        </div>
        <div class="config-item">
          <label>Quantidade de casas:</label>
          <select id="qtdCasas" onchange="updateCasas()">
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5</option>
            <option value="6">6</option>
            <option value="7">7</option>
            <option value="8">8</option>
            <option value="9">9</option>
            <option value="10">10</option>
          </select>
        </div>
      </div>
      <div class="toggle-container">
        <div class="toggle">
          <label>Aposta com freebet</label>
          <label class="switch">
            <input type="checkbox" id="freebet" onchange="updateFreebetField()">
            <span class="slider"></span>
          </label>
        </div>
        <div class="toggle">
          <label>Aposta com cashback</label>
          <label class="switch">
            <input type="checkbox" id="cashback" onchange="updateCashbackField()">
            <span class="slider"></span>
          </label>
        </div>
        <div class="toggle">
          <label>Exibir comissão</label>
          <label class="switch">
            <input type="checkbox" id="comissao" onchange="updateTableColumns()">
            <span class="slider"></span>
          </label>
        </div>
        <div class="toggle">
          <label>Exibir aumento</label>
          <label class="switch">
            <input type="checkbox" id="aumento" onchange="updateTableColumns()">
            <span class="slider"></span>
          </label>
        </div>
      </div>
      <div class="config-item">
        <label>Quantidade de contas:</label>
        <input type="number" id="qtdContas" value="1" min="1" max="10" onchange="updateTotalValues()">
      </div>
    </div>

    <!-- Linhas de Apostas -->
    <div class="section">
      <h5>Linhas de Apostas</h5>
      <div class="table-container">
        <table id="apostasTable">
          <thead>
            <tr>
              <th>Casa</th>
              <th>Tipo</th>
              <th>ODD</th>
              <th>Comissão</th>
              <th>ODD Final</th>
              <th>Aumento</th>
              <th>Aposta</th>
              <th>C<i class="fas fa-info-circle info-icon" title="Comissão"></i></th>
              <th>Lucro</th>
            </tr>
          </thead>
          <tbody id="apostasBody">
            <!-- Preenchido por JS -->
          </tbody>
          <tfoot>
            <tr>
              <td colspan="6"><strong>Aposta total:</strong></td>
              <td>
                <input type="text" id="apostaTotal" value="0.00" oninput="distributeValue()" style="background:#f0f0f0;border:none;font-weight:bold;width:100px;">
                <button class="copy-btn" onclick="copyApostaTotal()">📋</button>
              </td>
              <td colspan="2"></td>
            </tr>
          </tfoot>
        </table>
      </div>
    </div>

    <!-- Resultados -->
    <div class="section">
      <h5>Resultados</h5>
      <div class="table-container">
        <table id="resultadosTable">
          <thead>
            <tr>
              <th>Casa</th>
              <th>ODD</th>
              <th>Aposta</th>
              <th>Tipo</th>
              <th>Lucro</th>
            </tr>
          </thead>
          <tbody id="resultadosBody">
            <!-- Preenchido automaticamente -->
          </tbody>
        </table>
      </div>
      <div style="display:flex;gap:10px;flex-wrap:wrap;">
        <button class="btn-action" onclick="shareResults()">
          <i class="fas fa-share-alt"></i> Compartilhar
        </button>
        <button class="btn-action" onclick="addToPlanilha()">
          <i class="fas fa-plus"></i> Adicionar à planilha
        </button>
      </div>
      <div class="result-card">
        <div class="result-row">
          <span class="result-label">Stake Total (Risco):</span>
          <span class="result-value" id="stakeTotal">R$ 0.00</span>
        </div>
        <div class="result-row">
          <span class="result-label">Porcentagem:</span>
          <span class="result-value" id="porcentagem">0.00 %</span>
        </div>
        <div class="result-row">
          <span class="result-label">Lucro:</span>
          <span class="result-value" id="lucroTotal">R$ 0.00</span>
        </div>
      </div>
    </div>
  </div>

  <script>
    // Gera linhas iniciais
    function generateInitialRows() {
      const tbody = document.getElementById('apostasBody');
      tbody.innerHTML = '';
      for (let i = 1; i <= 2; i++) {
        const row = document.createElement('tr');
        row.innerHTML = `
          <td><input type="text" value="Casa ${i}" class="casa-input"></td>
          <td><div class="type-btn back" onclick="toggleType(this)">BACK</div></td>
          <td><input type="number" value="2.000" class="odd-input" step="0.001" min="1"></td>
          <td><input type="text" value="0.00%" class="comissao-input" readonly></td>
          <td><span class="odd-final">2.000</span></td>
          <td><input type="text" value="0.00%" class="aumento-input" readonly></td>
          <td><input type="number" value="0.00" class="aposta-input" step="0.01" min="0"></td>
          <td><input type="checkbox" class="comissao-checkbox"></td>
          <td><span class="lucro-output">0.00</span></td>
        `;
        tbody.appendChild(row);
      }
      attachInputListeners();
    }

    // Atualiza campo Freebet
    function updateFreebetField() {
      const showFreebet = document.getElementById('freebet').checked;
      const rows = document.querySelectorAll('#apostasBody tr');
      rows.forEach(row => {
        if (showFreebet) {
          if (!row.querySelector('.freebet-input')) {
            const td = row.children[6];
            const freebetInput = document.createElement('input');
            freebetInput.type = 'number';
            freebetInput.className = 'freebet-input';
            freebetInput.placeholder = 'Freebet';
            freebetInput.step = '0.01';
            freebetInput.value = '0.00';
            freebetInput.style.marginTop = '5px';
            td.appendChild(freebetInput);
          }
        } else {
          const freebetInput = row.querySelector('.freebet-input');
          if (freebetInput) freebetInput.remove();
        }
      });
      updateCalculations();
    }

    // Atualiza campo Cashback
    function updateCashbackField() {
      const showCashback = document.getElementById('cashback').checked;
      const rows = document.querySelectorAll('#apostasBody tr');
      rows.forEach(row => {
        if (showCashback) {
          if (!row.querySelector('.cashback-input')) {
            const td = row.children[6];
            const cashbackInput = document.createElement('input');
            cashbackInput.type = 'number';
            cashbackInput.className = 'cashback-input';
            cashbackInput.placeholder = 'Cashback %';
            cashbackInput.step = '0.01';
            cashbackInput.value = '0.00';
            cashbackInput.style.marginTop = '5px';
            td.appendChild(cashbackInput);
          }
        } else {
          const cashbackInput = row.querySelector('.cashback-input');
          if (cashbackInput) cashbackInput.remove();
        }
      });
      updateCalculations();
    }

    // Distribui valor total entre as casas para garantir lucro líquido em todos os cenários
    function distributeValue() {
      const total = parseFloat(document.getElementById('apostaTotal').value) || 0;
      const rows = document.querySelectorAll('#apostasBody tr');
      if (rows.length === 0 || total <= 0) {
        rows.forEach(row => row.querySelector('.aposta-input').value = '0.00');
        updateCalculations();
        return;
      }

      // Calcula soma dos inversos das odds ajustadas
      let sumInverses = 0;
      const odds = [];
      rows.forEach(row => {
        let odd = parseFloat(row.querySelector('.odd-input').value) || 1;
        if (document.getElementById('aumento').checked) odd *= 1.02;
        odds.push(odd);
        sumInverses += 1 / odd;
      });

      // Se for arbitragem viável (sumInverses < 1), distribui para lucro positivo
      // Caso contrário, distribui proporcionalmente (menor prejuízo)
      rows.forEach((row, i) => {
        const apostaInput = row.querySelector('.aposta-input');
        let aposta;
        if (sumInverses < 1) {
          // Garante lucro igual em todos os cenários
          aposta = total * (1 / odds[i]) / sumInverses;
        } else {
          // Distribuição proporcional (menor prejuízo)
          aposta = total * (1 / odds[i]) / sumInverses;
        }
        apostaInput.value = aposta.toFixed(2);
      });

      updateCalculations();
    }

    // Atualiza colunas da tabela conforme configurações
    function updateTableColumns() {
      const showComissao = document.getElementById('comissao').checked;
      const showAumento = document.getElementById('aumento').checked;

      const headers = document.querySelectorAll('#apostasTable thead th');
      const rows = document.querySelectorAll('#apostasTable tbody tr');

      headers[3].style.display = showComissao ? 'table-cell' : 'none';
      headers[4].style.display = 'table-cell';
      headers[5].style.display = showAumento ? 'table-cell' : 'none';
      headers[6].style.display = 'table-cell';
      headers[7].style.display = showComissao ? 'table-cell' : 'none';

      rows.forEach(row => {
        row.children[3].style.display = showComissao ? 'table-cell' : 'none';
        row.children[4].style.display = 'table-cell';
        row.children[5].style.display = showAumento ? 'table-cell' : 'none';
        row.children[6].style.display = 'table-cell';
        row.children[7].style.display = showComissao ? 'table-cell' : 'none';
      });

      updateCalculations();
    }

    // Alterna tipo BACK/LAY
    function toggleType(btn) {
      if (btn.classList.contains('back')) {
        btn.classList.remove('back');
        btn.classList.add('lay');
        btn.textContent = 'LAY';
      } else {
        btn.classList.remove('lay');
        btn.classList.add('back');
        btn.textContent = 'BACK';
      }
      updateCalculations();
    }

    // Atualizar número de casas
    function updateCasas() {
      const qtd = parseInt(document.getElementById('qtdCasas').value) || 2;
      const tbody = document.getElementById('apostasBody');
      tbody.innerHTML = '';
      for (let i = 1; i <= qtd; i++) {
        const row = document.createElement('tr');
        row.innerHTML = `
          <td><input type="text" value="Casa ${i}" class="casa-input"></td>
          <td><div class="type-btn back" onclick="toggleType(this)">BACK</div></td>
          <td><input type="number" value="2.000" class="odd-input" step="0.001" min="1"></td>
          <td><input type="text" value="0.00%" class="comissao-input" readonly></td>
          <td><span class="odd-final">2.000</span></td>
          <td><input type="text" value="0.00%" class="aumento-input" readonly></td>
          <td><input type="number" value="0.00" class="aposta-input" step="0.01" min="0"></td>
          <td><input type="checkbox" class="comissao-checkbox"></td>
          <td><span class="lucro-output">0.00</span></td>
        `;
        tbody.appendChild(row);
      }
      attachInputListeners();
      updateFreebetField();
      updateCashbackField();
      updateCalculations();
    }

    // Copiar aposta total
    function copyApostaTotal() {
      const valor = document.getElementById('apostaTotal').value;
      navigator.clipboard.writeText(valor).then(() => {
        alert('Valor copiado: R$ ' + valor);
      });
    }

    // Compartilhar
    function shareResults() {
      const stake = document.getElementById('stakeTotal').textContent;
      const lucro = document.getElementById('lucroTotal').textContent;
      const pct = document.getElementById('porcentagem').textContent;
      const msg = `Fábrica Super Odd\nStake Total: ${stake}\nLucro: ${lucro}\nPorcentagem: ${pct}`;
      if (navigator.share) {
        navigator.share({ title: 'Resultado da Arbitragem', text: msg });
      } else {
        navigator.clipboard.writeText(msg).then(() => {
          alert('Resultado copiado!');
        });
      }
    }

    // Adicionar à planilha (simulado)
    function addToPlanilha() {
      alert('Aposta adicionada à sua planilha com sucesso!');
    }

    // Atualizar cálculos
    function updateCalculations() {
      const rows = document.querySelectorAll('#apostasBody tr');
      let totalAposta = 0;
      let totalLucro = 0;

      const resultadosBody = document.getElementById('resultadosBody');
      resultadosBody.innerHTML = '';

      rows.forEach(row => {
        const casaInput = row.querySelector('.casa-input');
        const apostaInput = row.querySelector('.aposta-input');
        const oddInput = row.querySelector('.odd-input');
        const lucroOutput = row.querySelector('.lucro-output');
        const comissaoCheckbox = row.querySelector('.comissao-checkbox');
        const typeBtn = row.querySelector('.type-btn');
        const comissaoInput = row.querySelector('.comissao-input');
        const aumentoInput = row.querySelector('.aumento-input');
        const oddFinalSpan = row.querySelector('.odd-final');
        const freebetInput = row.querySelector('.freebet-input');
        const cashbackInput = row.querySelector('.cashback-input');

        let aposta = parseFloat(apostaInput.value) || 0;
        let odd = parseFloat(oddInput.value) || 0;
        let comissao = 0;
        let aumento = 0;
        let freebet = 0;
        let cashback = 0;
        let lucro = 0;

        if (comissaoCheckbox.checked) {
          comissao = 0.05;
          comissaoInput.value = '5.00%';
        } else {
          comissaoInput.value = '0.00%';
        }

        if (document.getElementById('aumento').checked) {
          aumento = 0.02;
          aumentoInput.value = '2.00%';
          odd = odd * (1 + aumento);
        } else {
          aumentoInput.value = '0.00%';
        }

        if (document.getElementById('freebet').checked && freebetInput) {
          freebet = parseFloat(freebetInput.value) || 0;
        }

        if (document.getElementById('cashback').checked && cashbackInput) {
          cashback = parseFloat(cashbackInput.value) || 0;
        }

        oddFinalSpan.textContent = odd.toFixed(3);

        if (typeBtn.classList.contains('back')) {
          lucro = aposta * (odd - 1);
        } else {
          lucro = aposta * (1 - odd);
        }

        if (comissaoCheckbox.checked) {
          lucro *= (1 - comissao);
        }

        if (freebet > 0) {
          lucro += freebet; // Freebet é lucro adicional
        }

        if (cashback > 0) {
          lucro += aposta * (cashback / 100); // Cashback é percentual sobre aposta
        }

        lucroOutput.textContent = lucro.toFixed(2);
        totalAposta += aposta;
        totalLucro += lucro;

        const resultRow = document.createElement('tr');
        resultRow.innerHTML = `
          <td>${casaInput.value}</td>
          <td>${odd.toFixed(3)}</td>
          <td>${aposta.toFixed(2)}</td>
          <td>${typeBtn.textContent}</td>
          <td>${lucro.toFixed(2)}</td>
        `;
        resultadosBody.appendChild(resultRow);
      });

      const qtdContas = parseInt(document.getElementById('qtdContas').value) || 1;
      const stake = totalAposta * qtdContas;
      const lucro = totalLucro * qtdContas;
      const porcentagem = totalAposta > 0 ? (totalLucro / totalAposta * 100) : 0;

      document.getElementById('apostaTotal').value = totalAposta.toFixed(2);
      document.getElementById('stakeTotal').textContent = `R$ ${stake.toFixed(2)}`;
      document.getElementById('lucroTotal').textContent = `R$ ${lucro.toFixed(2)}`;
      document.getElementById('porcentagem').textContent = `${porcentagem.toFixed(2)} %`;
    }

    function attachInputListeners() {
      document.querySelectorAll('.aposta-input, .odd-input, .comissao-checkbox').forEach(el => {
        el.removeEventListener('input', updateCalculations);
        el.addEventListener('input', updateCalculations);
      });
    }

    function updateTotalValues() {
      updateCalculations();
    }

    // Inicializa
    document.addEventListener('DOMContentLoaded', () => {
      generateInitialRows();
      document.getElementById('qtdContas').value = '1';
      updateTableColumns();
      updateFreebetField();
      updateCashbackField();
      updateCalculations();
    });
  </script>
</body>
</html>